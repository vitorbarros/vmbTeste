function auth(){var e=new FormData($("#loginForm")[0]);$.ajax({type:"POST",url:"/login",data:e,contentType:!1,cache:!1,processData:!1,success:function(e){window.location.href=e.redirect},error:function(e){e.responseJSON.messages?alertRequests("danger",e.responseJSON.messages,"alert-login"):($.each(e.responseJSON,function(e,a){$("#"+e).css({"background-color":"rgb(242, 222, 222)"})}),alertRequests("danger","Preencha os campos em vermelho","alert-login"))}})}function consulta(){var e=new FormData($("#consultaForm")[0]);cnpj=$("input[name='cnpj']").val(),token=$("input[name='_token']").val(),$("input[name='cnpj']").removeAttr("style"),$("#alert-consulta").empty();var a=$('input[value="Consultar"]').clone();$.ajax({type:"POST",url:"/app/sintegra/sintegra-request",data:e,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$('input[value="Consultar"]').remove(),$("#consulta-content-btn").append("<img src='/assets/img/load.gif' id='load' style='margin: 0px;max-width: 25px;'>")},complete:function(){$("#load").remove(),$("#consulta-content-btn a").before(a)},success:function(e){var a="";$.each(e,function(e,o){a+=o}),$("#consulta-content").empty(),$("#consulta-content").append(a),$("#btn-modal").trigger("click")},error:function(e){$.each(e.responseJSON,function(a,o){e.responseJSON.messages?alertRequests("danger",e.responseJSON.messages,"alert-consulta"):($("#"+a).css({"background-color":"rgb(242, 222, 222)"}),alertRequests("danger","Informe o CNPJ","alert-consulta"))})}})}function salvarConsulta(){var e=new FormData;e.append("cnpj",cnpj),e.append("_token",token);var a=$("#salvar-consulta").clone();$.ajax({type:"POST",url:"/app/sintegra/store",data:e,contentType:!1,cache:!1,processData:!1,beforeSend:function(){$("#salvar-consulta").remove(),$("#consulta-modal").append("<img src='/assets/img/load.gif' id='load' style='margin: 0px;max-width: 25px;'>")},complete:function(){$("#load").remove(),$("#consulta-modal button").before(a)},success:function(e){alertRequests("success","Consulta salva com sucesso","alert-consulta"),$("#sair").trigger("click"),$("#retornanr").removeAttr("style")},error:function(e){alertRequests("danger",e.responseJSON.messages,"alert-consulta"),$("#sair").trigger("click")}})}function deleteRow(e){e&&$.ajax({type:"GET",url:"/app/sintegra/delete/"+e,cache:!1,success:function(e){location.reload()}})}function viewDetails(e){e&&$.ajax({type:"GET",url:"/app/sintegra/get/"+e,cache:!1,success:function(e){var a=jQuery.parseJSON(e.resultado_json),o='<div class="row"><div class="col-lg-6 col-md-6 col-sm-6 col-xs-12"> Data cadastral: '+a.dados_gerais.data_cadastro+'</div><div class="col-lg-6 col-md-6 col-sm-6 col-xs-12"> CNPJ: '+a.dados_gerais.cnpj+'</div></div><div class="row"><div class="col-lg-6 col-md-6 col-sm-6 col-xs-12"> Inscrição Estadual: '+a.dados_gerais.inscricao_estadual+'</div><div class="col-lg-6 col-md-6 col-sm-6 col-xs-12"> Razão Social: '+a.dados_gerais.razao_social+'</div></div><div class="row"><div class="col-lg-6 col-md-6 col-sm-6 col-xs-12"> Rua: '+a.endereco.logradouro+'</div><div class="col-lg-6 col-md-6 col-sm-6 col-xs-12"> Bairro: '+a.endereco.bairro+'</div></div><div class="row"><div class="col-lg-6 col-md-6 col-sm-6 col-xs-12"> Número: '+a.endereco.numero+'</div><div class="col-lg-6 col-md-6 col-sm-6 col-xs-12"> CEP: '+a.endereco.cep+'</div></div><div class="row"><div class="col-lg-6 col-md-6 col-sm-6 col-xs-12"> Município: '+a.endereco.municipio+'</div><div class="col-lg-6 col-md-6 col-sm-6 col-xs-12"> UF: '+a.endereco.uf+"</div></div>";$("#consulta-content").empty(),$("#consulta-content").append(o),$("#btn-modal").trigger("click")}})}function alertRequests(e,a,o){$("#"+o).empty(),$("#"+o).append('<div class="alert alert-'+e+'" role="alert">'+a+"</div>")}$(document).ready(function(){for(var e,a=window.location.pathname,o=/sintegra/g;null!==(e=o.exec(a));)$("#"+e).attr("class","active");$("#cnpj").mask("00.000.000-0000-00")});var cnpj=null,token=null;